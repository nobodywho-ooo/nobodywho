[gd_scene load_steps=7 format=3 uid="uid://qir8gkg0qx5w"]

[ext_resource type="Script" uid="uid://dkqdgp3feonn7" path="res://chat.gd" id="1_178kq"]
[ext_resource type="Script" uid="uid://tt6o1gsow6qw" path="res://run_tests.gd" id="1_mssk2"]
[ext_resource type="Script" uid="uid://c0hh4s85r0jqj" path="res://embedding.gd" id="2_rcagm"]
[ext_resource type="PackedScene" uid="uid://riqfmggkqpfd" path="res://grammar_test.tscn" id="4_vpjjx"]
[ext_resource type="Script" uid="uid://wr7mb50b7hdp" path="res://rerank_test.gd" id="5_rerank"]

[sub_resource type="NobodyWhoSampler" id="NobodyWhoSampler_ciq23"]
penalty_repeat = -1.0

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_mssk2")

[node name="ChatModel" type="NobodyWhoModel" parent="."]
model_path = "res://Qwen_Qwen3-0.6B-Q4_0.gguf"

[node name="EmbeddingModel" type="NobodyWhoModel" parent="."]
model_path = "res://bge-small-en-v1.5-q8_0.gguf"

[node name="RerankModel" type="NobodyWhoModel" parent="."]
model_path = "res://bge-reranker-v2-m3-Q8_0.gguf"

[node name="NobodyWhoChat" type="NobodyWhoChat" parent="."]
sampler = SubResource("NobodyWhoSampler_ciq23")
script = ExtResource("1_178kq")

[node name="NobodyWhoEmbedding" type="NobodyWhoEmbedding" parent="."]
script = ExtResource("2_rcagm")

[node name="Grammar" parent="." instance=ExtResource("4_vpjjx")]

[node name="Rerank" type="NobodyWhoRerank" parent="." node_paths=PackedStringArray("model_node")]
model_node = NodePath("../RerankModel")
script = ExtResource("5_rerank")
